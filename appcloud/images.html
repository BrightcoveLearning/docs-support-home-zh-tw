---
title:圖像轉碼器---
<div class="BCL_objectives"><p>使用 App Cloud 圖像轉碼服務，通過優化移動交付的圖像，可以大大提高您的應用程序的性能。</p>
  <!--break--></div>
  <p>App Cloud 提供了一項服務，您可以使用它為您的應用程序轉碼圖像。使用圖像轉碼服務，您可以獲取源圖像並將其轉換為應用程序所需的大小和格式。例如，如果您有一個 300x300 像素的原始圖像，但您的應用需要以 100x100 顯示它。您可以使用圖像轉碼服務來確保圖像的大小始終適合其上下文，而無需為使用圖像的每個上下文創建新的圖像文件。您還可以裁剪圖像並指定 JPG 圖像的質量（壓縮率）。使用圖像轉碼服務，您可以：</p>
  <ul>
      <li>通過顯著減少顯示應用程序所需的文件大小和網絡帶寬，顯著提高應用程序的性能</li>
      <li>通過減小圖像大小來減少內存需求。</li>
      <li>確保您的圖像大小適合在移動設備上顯示。</li>
      <li>利用 App Cloud 服務器緩存，提高應用程序性能並減少您自己服務器上的負載。</li>
  </ul>
  <p>App Cloud 圖像轉碼服務充當圖像和應用程序之間的代理。該服務是通過一個簡單的 URL 訪問的，您可以在該 URL 中使用我們的轉碼服務 URL 作為圖像 URL 的前綴。這使您可以輕鬆地將我們的轉碼服務放入您的應用程序中。例如，如果您有一個位於<code>http://my.example.com/image.png</code>你通常會這樣要求：</p>
  <pre>
  &lt;圖片&nbsp; src="http://my.example.com/image.png" &nbsp; alt="帶寬飢餓圖像" width="500" height="500" /&gt; </pre>
  <p>要將其轉碼為 100x100px 的較小圖像，您只需發出以下請求：</p>
  <pre>
  &lt;圖片&nbsp; src="http://transcode.appcloud.brightcove.com?image=http://my.example.com/image.png&amp;width=100&amp;height=100" &nbsp; alt="我的苗條圖片" width="100" height="100" /&gt;</pre>
  <p>要將圖像的寬度縮小到 100 像素，並保留原始縱橫比：</p>
  <pre>
  &lt;圖片&nbsp; src="http://transcode.appcloud.brightcove.com?image=http://my.example.com/image.png&amp;width=100" width="100" /&gt;</pre>
  <p>要將圖像縮小到 100 像素的寬度或 100 像素的高度，以較大者為準，同時保留原始縱橫比：</p>
  <pre>
  &lt;圖片&nbsp; src="http://transcode.appcloud.brightcove.com?image=http://my.example.com/image.png&amp;max_dimension=100" /&gt;</pre>
  <p>要裁剪圖像，在中心保留 100x100 像素的部分，您只需發出以下請求：</p>
  <pre>
  &lt;圖片&nbsp; src="http://transcode.appcloud.brightcove.com?image=http://my.example.com/image.png&amp;crop=200,200,100,100" &nbsp; alt="我的苗條圖片" width="100" height="100" /&gt;</pre>
  
  <p>要使用圖像轉碼服務，您的圖像必須可通過公開可用的 URL 訪問。圖像必須為 PNG、JPEG 或 GIF 格式。</p>
  <h2><a name="params"></a>查詢參數</h2>
  <p>圖像轉碼服務調用使用以下查詢參數：</p>
  <h3>圖片（必填）</h3>
  <p>可以在其中找到原始圖像的可公開訪問的 URL。例如，<code>圖像=http://my.example.com/image.png</code> .</p>
  <h3>格式（可選）</h3>
  <p>新圖像的格式，可以是以下格式之一<code>PNG</code> , <code> jpg</code>， 或者<code>gif</code> .如果您不指定格式，則輸出格式與原始圖像保持不變。</p>
  <h3>尺寸參數（可選）</h3>
  <p>您可以使用尺寸參數之一，<code>寬度</code> , <code>高度</code>， 或者<code>最大維度</code> , 如果您希望新圖像與原始圖像的大小不同。這些參數以像素為單位指定最終圖像的尺寸。</p>
  <ul>
      <li>如果不指定任何尺寸參數，新圖像將與原始圖像具有相同的寬度和高度。</li>
      <li>如果您指定<code>寬度</code>， 但不是<code>高度</code>，新圖像將具有您指定的寬度，並將具有由原始圖像的縱橫比決定的高度。</li>
      <li>如果您指定<code>高度</code>， 但不是<code>寬度</code>，新圖像將具有您指定的高度，並將具有由原始圖像的縱橫比決定的寬度。</li>
      <li>如果您指定<code>最大維度</code>，則新圖像的較大尺寸將是您指定的尺寸，較小尺寸將具有由原始圖像的縱橫比決定的尺寸。</li>
  </ul>
  <p>在任何情況下，新圖像都將具有與原始圖像相同的縱橫比，除非您同時指定<code>寬度</code>和<code>高度</code>並且縱橫比與原始縱橫比不同。</p>
  <h3>裁剪參數（可選）</h3>
  <h2>使用轉碼實用程序功能</h2>
  <p>要裁剪圖像，請添加參數：</p>
  <pre>作物=x,y,w,h</pre>
  <p>這裡，x 和 y 是起點的坐標，以距左上角 (0,0) 的像素為單位測量。 w 和 h 是要保留的水平和垂直像素，從起點開始向右和向下進行。</p>
  <p>如果同時指定了裁剪和調整大小，則首先應用裁剪，然後調整裁剪後的圖像的大小。</p>
  <h3>質量參數（可選）</h3>
  <p>僅對於 JPG 圖像，通過添加參數指定結果圖像的壓縮率：</p>
  <pre>質量=x</pre>
  <p>x 是要應用的壓縮比；默認值為 70。</p>
  <p>這是一個用於生成圖像轉碼 URL 的方便的 JavaScript 函數：</p>
  <pre>
  函數 getTranscodeURL(url, options) { var src = "http://transcode.appcloud.brightcove.com?image=" + url; if (options) { if (options.max_dimension) { src += "&amp;max_dimension=" + options.max; }別的{ if (options.width) { src += "&amp;width=" + options.width; }如果（選項。高度）{ src += "&amp;height=" + options.height; }如果（選項。格式）{ src += "&amp;format=" + options.format; }如果（options.crop）{ src += "&amp;crop=" + options.crop; }如果（選項。質量）{ src += "&amp;quality" + options.quality; }返回源代碼； };</pre>
  <p>例如，要將圖像轉碼為 200 像素寬：</p>
  <pre>
  var tx_url = getTranscodeURL("http://www.example.com/example.jpg", { width: 200 } );</pre>
  <p>要將圖像裁剪為 160x90，從左側開始 100 像素，從頂部開始 70 像素，並指定壓縮比為 65：</p>
  <pre>var tx_url = getTranscodeURL("http://www.example.com/example.jpg", { crop: "100,70,160,90" , quality: 65 } );</pre>
  <h2>轉碼圖像示例</h2>
  <p>要了解轉碼服務如何顯著減少圖像文件所需的帶寬和內存，請查看這些示例。</p>
  <p>首先，我們有一個高質量的 JPEG 圖片：<br />
  <img alt="" src="http://img.brightcove.com/ac-transcode-before.jpg" /></p>
  <p>此圖像為 425x282，文件大小為 130,879 字節。</p>
  <p>通過寬度=250 的轉碼服務傳遞它：<br />
  <img alt="" src="http://img.brightcove.com/ac-transcode-after.jpg" /></p>
  <p>圖像現在為 250x165，文件大小為 34,017 字節，減少了 74%。</p>
  <p>最後，我們可以將其轉碼為縮略圖大小（寬度=75）：<br />
  <img alt="" src="http://img.brightcove.com/ac-transcode-thumb.jpg" /></p>
  <p>圖像現在是 75x49，文件大小為 7,686 字節，減少了 94%！</p>